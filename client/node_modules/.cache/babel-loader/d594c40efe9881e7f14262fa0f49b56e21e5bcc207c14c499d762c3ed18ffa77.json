{"ast":null,"code":"import{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import axios from'axios';import Styles from'./EditBlog.module.css';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";export function EditBlog(){const[title,setTitle]=useState('');const[description,setDescription]=useState('');const[error,setError]=useState(null);const{id}=useParams();const navigate=useNavigate();useEffect(()=>{const fetchBlog=async()=>{try{const token=localStorage.getItem('token');const response=await axios.get(\"\".concat(process.env.REACT_APP_SERVER_URL,\"/api/blog/\").concat(id),{headers:{'Authorization':\"Bearer \".concat(token)}});setTitle(response.data.title);setDescription(response.data.description);}catch(error){console.error('Error fetching blog:',error);setError('Error fetching blog');}};fetchBlog();},[id]);const handleSubmit=async e=>{e.preventDefault();try{const token=localStorage.getItem('token');await axios.patch(\"\".concat(process.env.REACT_APP_SERVER_URL,\"/api/blog/\").concat(id),{title,description},{headers:{'Authorization':\"Bearer \".concat(token)}});navigate(\"/blog/\".concat(id));}catch(error){console.error('Error updating blog:',error);setError('Error updating blog');}};if(error)return/*#__PURE__*/_jsxs(\"div\",{children:[\"Error: \",error]});return/*#__PURE__*/_jsxs(\"div\",{className:Styles.editBlogContainer,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Edit Blog\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:title,onChange:e=>setTitle(e.target.value),placeholder:\"Title\",required:true}),/*#__PURE__*/_jsx(\"textarea\",{value:description,onChange:e=>setDescription(e.target.value),placeholder:\"Description\",required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Update Blog\"})]})]});}","map":{"version":3,"names":["useState","useEffect","useParams","useNavigate","axios","Styles","jsxs","_jsxs","jsx","_jsx","EditBlog","title","setTitle","description","setDescription","error","setError","id","navigate","fetchBlog","token","localStorage","getItem","response","get","concat","process","env","REACT_APP_SERVER_URL","headers","data","console","handleSubmit","e","preventDefault","patch","children","className","editBlogContainer","onSubmit","type","value","onChange","target","placeholder","required"],"sources":["C:/Users/Sreeyas/OneDrive/Desktop/Blogging Application/client/src/Views/Blogs/EditBlog.js"],"sourcesContent":["import { useState, useEffect } from 'react'\r\nimport { useParams, useNavigate } from 'react-router-dom'\r\nimport axios from 'axios'\r\nimport Styles from './EditBlog.module.css'\r\n\r\nexport function EditBlog() {\r\n    const [title, setTitle] = useState('')\r\n    const [description, setDescription] = useState('')\r\n    const [error, setError] = useState(null)\r\n    const { id } = useParams()\r\n    const navigate = useNavigate()\r\n\r\n    useEffect(() => {\r\n        const fetchBlog = async () => {\r\n            try {\r\n                const token = localStorage.getItem('token')\r\n                const response = await axios.get(`${process.env.REACT_APP_SERVER_URL}/api/blog/${id}`, {\r\n                    headers: {\r\n                        'Authorization': `Bearer ${token}`\r\n                    }\r\n                })\r\n                setTitle(response.data.title)\r\n                setDescription(response.data.description)\r\n            } catch (error) {\r\n                console.error('Error fetching blog:', error)\r\n                setError('Error fetching blog')\r\n            }\r\n        }\r\n        fetchBlog()\r\n    }, [id])\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault()\r\n        try {\r\n            const token = localStorage.getItem('token')\r\n            await axios.patch(`${process.env.REACT_APP_SERVER_URL}/api/blog/${id}`, \r\n                { title, description },\r\n                {\r\n                    headers: {\r\n                        'Authorization': `Bearer ${token}`\r\n                    }\r\n                }\r\n            )\r\n            navigate(`/blog/${id}`)\r\n        } catch (error) {\r\n            console.error('Error updating blog:', error)\r\n            setError('Error updating blog')\r\n        }\r\n    }\r\n\r\n    if (error) return <div>Error: {error}</div>\r\n\r\n    return (\r\n        <div className={Styles.editBlogContainer}>\r\n            <h1>Edit Blog</h1>\r\n            <form onSubmit={handleSubmit}>\r\n                <input\r\n                    type=\"text\"\r\n                    value={title}\r\n                    onChange={(e) => setTitle(e.target.value)}\r\n                    placeholder=\"Title\"\r\n                    required\r\n                />\r\n                <textarea\r\n                    value={description}\r\n                    onChange={(e) => setDescription(e.target.value)}\r\n                    placeholder=\"Description\"\r\n                    required\r\n                />\r\n                <button type=\"submit\">Update Blog</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}